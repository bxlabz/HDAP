<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installation Guide - Humanitarian Aid Delivery Router</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f7fa;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
        }
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        .card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        h2 {
            color: #667eea;
            font-size: 1.5rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }
        h3 {
            color: #444;
            font-size: 1.1rem;
            margin: 20px 0 10px 0;
        }
        .step {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        .step-number {
            background: #667eea;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }
        .step-content {
            flex: 1;
        }
        .step-content h4 {
            margin-bottom: 8px;
            color: #333;
        }
        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            margin: 10px 0;
        }
        code {
            background: #e8e8e8;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
        }
        pre code {
            background: none;
            padding: 0;
        }
        .highlight {
            color: #569cd6;
        }
        .string {
            color: #ce9178;
        }
        .comment {
            color: #6a9955;
        }
        ul, ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        li {
            margin-bottom: 8px;
        }
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }
        .info {
            background: #e7f3ff;
            border-left: 4px solid #2196f3;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }
        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background: #f8f9fa;
            font-weight: 600;
        }
        .file-tree {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            font-family: monospace;
        }
        .file-tree .folder {
            color: #667eea;
            font-weight: bold;
        }
        .file-tree .file {
            color: #333;
        }
        footer {
            text-align: center;
            padding: 30px;
            color: #666;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <header>
        <h1>Humanitarian Aid Delivery Router</h1>
        <p>Installation & Setup Guide</p>
    </header>

    <div class="container">
        <!-- Prerequisites -->
        <div class="card">
            <h2>Prerequisites</h2>
            <p>Before installing, ensure you have the following software installed on your system:</p>

            <table>
                <tr>
                    <th>Software</th>
                    <th>Version</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td>Docker</td>
                    <td>20.10+</td>
                    <td>Container runtime</td>
                </tr>
                <tr>
                    <td>Docker Compose</td>
                    <td>2.0+</td>
                    <td>Multi-container orchestration</td>
                </tr>
                <tr>
                    <td>Git</td>
                    <td>2.30+</td>
                    <td>Version control (optional)</td>
                </tr>
            </table>

            <div class="info">
                <strong>Note:</strong> Docker Desktop for Windows/Mac includes Docker Compose. For Linux, install them separately.
            </div>
        </div>

        <!-- Project Structure -->
        <div class="card">
            <h2>Project Structure</h2>
            <div class="file-tree">
                <span class="folder">RouterApp1/V1/</span><br>
                ├── <span class="file">app.py</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment"># Flask backend application</span><br>
                ├── <span class="file">requirements.txt</span> &nbsp;&nbsp;&nbsp;<span class="comment"># Python dependencies</span><br>
                ├── <span class="file">Dockerfile</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment"># Container build instructions</span><br>
                ├── <span class="file">docker-compose.yml</span> &nbsp;<span class="comment"># Service orchestration</span><br>
                ├── <span class="file">nginx.conf</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment"># Reverse proxy configuration</span><br>
                ├── <span class="file">.env</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment"># Environment variables (create this)</span><br>
                └── <span class="folder">static/</span><br>
                &nbsp;&nbsp;&nbsp;&nbsp;├── <span class="file">index.html</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment"># Frontend HTML</span><br>
                &nbsp;&nbsp;&nbsp;&nbsp;└── <span class="file">app.js</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment"># Frontend JavaScript</span>
            </div>
        </div>

        <!-- Installation Steps -->
        <div class="card">
            <h2>Installation Steps</h2>

            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>Clone or Download the Project</h4>
                    <p>If using Git:</p>
                    <pre><code>git clone &lt;repository-url&gt;
cd RouterApp1/V1</code></pre>
                    <p>Or download and extract the project files to a directory of your choice.</p>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>Create Environment Configuration</h4>
                    <p>Create a <code>.env</code> file in the V1 directory with your secure credentials:</p>
                    <pre><code><span class="comment"># .env file</span>
<span class="highlight">SECRET_KEY</span>=<span class="string">your-secure-random-secret-key-here</span>
<span class="highlight">ADMIN_PASSWORD</span>=<span class="string">your-secure-admin-password</span></code></pre>

                    <div class="warning">
                        <strong>Security Warning:</strong> Use strong, unique values for both keys. Never commit the .env file to version control. Generate a secure SECRET_KEY using:
                        <pre><code>python -c "import secrets; print(secrets.token_hex(32))"</code></pre>
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>Build and Start the Application</h4>
                    <p>Run Docker Compose to build and start all services:</p>
                    <pre><code><span class="comment"># Build and start in detached mode</span>
docker-compose up -d --build

<span class="comment"># View logs (optional)</span>
docker-compose logs -f</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h4>Verify Installation</h4>
                    <p>Check that both containers are running:</p>
                    <pre><code>docker-compose ps</code></pre>
                    <p>You should see two services running: <code>route-optimizer</code> and <code>nginx</code></p>
                </div>
            </div>

            <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h4>Access the Application</h4>
                    <p>Open your web browser and navigate to:</p>
                    <pre><code>http://localhost:8080</code></pre>
                    <p>Login with username <code>admin</code> and the password you set in the .env file.</p>

                    <div class="success">
                        <strong>Success!</strong> You should now see the Route Optimizer login page.
                    </div>
                </div>
            </div>
        </div>

        <!-- Usage Guide -->
        <div class="card">
            <h2>Usage Guide</h2>

            <h3>Preparing Your Data</h3>
            <p>Create a CSV or TSV file with an <strong>Address</strong> column containing full addresses:</p>
            <pre><code>Name,Address,Phone,Household,Special Items,Notes
Maria Santos,"211 N 1st St, Minneapolis, MN 55401",(612) 555-0101,4,Diapers (size 3),Gate code: 4521
James Johnson,"200 N 1st St, Minneapolis, MN 55401",(651) 555-0102,2,,Apartment 2B</code></pre>

            <h3>Creating Optimized Routes</h3>
            <ol>
                <li><strong>Set Start Address:</strong> Enter the depot or starting location address</li>
                <li><strong>Configure Settings:</strong>
                    <ul>
                        <li>Maximum stops per route (3-10)</li>
                        <li>Search radius in miles (5-200) - addresses outside this radius are rejected</li>
                    </ul>
                </li>
                <li><strong>Upload CSV:</strong> Select your address file</li>
                <li><strong>Optimize:</strong> Click "Optimize Routes" and wait for processing</li>
                <li><strong>Export:</strong> Download GPX files for each route</li>
            </ol>

            <h3>Using GPX Files</h3>
            <p>The exported GPX files can be imported into:</p>
            <ul>
                <li><strong>OsmAnd</strong> - Open source navigation app (recommended)</li>
                <li><strong>Google Maps</strong> - Import as custom map</li>
                <li><strong>Garmin devices</strong> - Direct GPX import</li>
                <li><strong>Any GPS device</strong> supporting GPX format</li>
            </ul>
        </div>

        <!-- Management Commands -->
        <div class="card">
            <h2>Management Commands</h2>

            <table>
                <tr>
                    <th>Action</th>
                    <th>Command</th>
                </tr>
                <tr>
                    <td>Start services</td>
                    <td><code>docker-compose up -d</code></td>
                </tr>
                <tr>
                    <td>Stop services</td>
                    <td><code>docker-compose down</code></td>
                </tr>
                <tr>
                    <td>View logs</td>
                    <td><code>docker-compose logs -f</code></td>
                </tr>
                <tr>
                    <td>Rebuild after changes</td>
                    <td><code>docker-compose up -d --build</code></td>
                </tr>
                <tr>
                    <td>Check status</td>
                    <td><code>docker-compose ps</code></td>
                </tr>
                <tr>
                    <td>Restart services</td>
                    <td><code>docker-compose restart</code></td>
                </tr>
            </table>
        </div>

        <!-- Troubleshooting -->
        <div class="card">
            <h2>Troubleshooting</h2>

            <h3>Port 8080 Already in Use</h3>
            <p>Edit <code>docker-compose.yml</code> and change the port mapping:</p>
            <pre><code>ports:
  - "8888:80"  <span class="comment"># Change 8080 to 8888 or another available port</span></code></pre>

            <h3>Geocoding Failures</h3>
            <ul>
                <li>Ensure addresses include city, state, and ZIP code</li>
                <li>Check that addresses are within the specified radius</li>
                <li>Nominatim has rate limits (1 request/second) - large files take time</li>
            </ul>

            <h3>Container Won't Start</h3>
            <pre><code><span class="comment"># Check container logs for errors</span>
docker-compose logs route-optimizer

<span class="comment"># Verify .env file exists and has correct values</span>
cat .env</code></pre>

            <h3>Login Issues</h3>
            <ul>
                <li>Default username is <code>admin</code></li>
                <li>Password is set in the <code>.env</code> file as <code>ADMIN_PASSWORD</code></li>
                <li>Clear browser cookies if experiencing session issues</li>
            </ul>
        </div>

        <!-- Technical Specifications -->
        <div class="card">
            <h2>Technical Specifications</h2>

            <table>
                <tr>
                    <th>Component</th>
                    <th>Technology</th>
                </tr>
                <tr>
                    <td>Backend Framework</td>
                    <td>Flask 3.0 (Python)</td>
                </tr>
                <tr>
                    <td>Authentication</td>
                    <td>Flask-Login with password hashing</td>
                </tr>
                <tr>
                    <td>Geocoding Service</td>
                    <td>OpenStreetMap Nominatim (free, no API key required)</td>
                </tr>
                <tr>
                    <td>Route Optimization</td>
                    <td>Nearest Neighbor TSP Algorithm</td>
                </tr>
                <tr>
                    <td>Distance Calculation</td>
                    <td>Geodesic (Vincenty) with 1.35x road factor</td>
                </tr>
                <tr>
                    <td>Web Server</td>
                    <td>Nginx (reverse proxy)</td>
                </tr>
                <tr>
                    <td>Container Runtime</td>
                    <td>Docker with Python 3.11-slim base</td>
                </tr>
                <tr>
                    <td>Frontend</td>
                    <td>HTML5, JavaScript, TailwindCSS</td>
                </tr>
            </table>
        </div>
    </div>

    <footer>
        <p>Humanitarian Aid Delivery Router - Installation Guide</p>
        <p>Version 1.0</p>
    </footer>
</body>
</html>
